# Resource
Ресурс - префаб, атлас, звук и тп.  
Ресурсы обьединяются в бандлы - колекции.  
Соответсвенно рессурсы можно загрузить пачкой или разбивать на меньшие бандлы.

Все ресурсы лежат в resources.go в main коллекции.
Выгруженная сцена (помеченая как excluded) тоже считается ресурсом но лежит в отдельном scenes.go в main коллекции.

Загрузить ресурс можно при помощи вызова `Resource.load(name, on_loaded)` принимающий имя ресурса и коллбэк, вызываемый по окончанию загрузки.
Выгруженная сцена загружается автоматически при вызове `Scene.load(name)`.

## Tips
После загрузки бандла можно подменить ресурс звука если такой имеется при помощи `Sound.load(name, path) принимающего имя звука и путь до ресурса`.
Также можно заменить и другие ресурсы например помень префаб который будет создвать GoManager при помощи `set_prefab(path)` принимающего путь до ресурса.

## ВНИМАНИЕ
> Важно заметить что вызов `resources.set_sound` применяющийся в `Sound.load(name, path)` должен быть в main колекции, поэтому его можно помещать прям в колбэк о окончании загрузки ресурса.

> А вот `set_prefab(path)` должен вызываться в той колекции в которой будет создаываться префаб, поэтому этот вызов **_помещать в колбэк загрузки нельзя!_**

## Advanced
Модуль при инициализации для `HTML5` платформы загружает `manifest.json` который генерируется при вызове `node pack_resources.js run`.

В манифесте записаны хэши всех выгруженных ресурсов (и сцен), при помощи этого манифеста модуль может находить хэш ресусра по имени при запросе его на загрузку.

Также хэш используется для версионирования ресурса. При изменении чего-либо в бандле, хэш поменяется, тем самым будет отличаться от хэша загруженого пользователем ранее, и при получении манифеста при запросе на загрузку ресурса будет проверка по хэшу и загрузится новый из-за несовпадения.